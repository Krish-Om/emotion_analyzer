# System Architecture & Data Flow Diagrams

## ğŸ—ï¸ Overall System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EMOTION RECOGNITION SYSTEM                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        FRONTEND (React + TS)         â”‚      â”‚    BACKEND (FastAPI)         â”‚
â”‚       http://localhost:5173          â”‚      â”‚   http://localhost:8000      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚      â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      App.tsx (Main)          â”‚   â”‚      â”‚  â”‚  API Routes            â”‚  â”‚
â”‚  â”‚  â€¢ State management          â”‚   â”‚      â”‚  â”‚  GET /                 â”‚  â”‚
â”‚  â”‚  â€¢ Event handlers            â”‚   â”‚      â”‚  â”‚  GET /emotions         â”‚  â”‚
â”‚  â”‚  â€¢ API calls                 â”‚â—„â”€â”€â”¼â”€â”€â”€â”€â”€â”€â–º  â”‚  POST /analyze         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚      â”‚           â–²                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚      â”‚           â”‚                   â”‚
â”‚  â”‚    TextInput.tsx             â”‚   â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  â€¢ Textarea                  â”‚   â”‚      â”‚  â”‚  model.py         â”‚       â”‚
â”‚  â”‚  â€¢ Char/word counter         â”‚   â”‚      â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚       â”‚
â”‚  â”‚  â€¢ Button controls           â”‚   â”‚      â”‚  â”‚ â€¢ EmotionAnalyzer â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â”‚  â”‚ â€¢ load_model()    â”‚       â”‚
â”‚                                      â”‚      â”‚  â”‚ â€¢ analyze()       â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”‚   EmotionResults.tsx         â”‚   â”‚      â”‚           â–²                   â”‚
â”‚  â”‚  â€¢ Primary emotion display   â”‚   â”‚      â”‚           â”‚                   â”‚
â”‚  â”‚  â€¢ Confidence bar            â”‚   â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â€¢ 28 emotion spectrum       â”‚   â”‚      â”‚  â”‚  BERT Model (GPU/CPU) â”‚   â”‚
â”‚  â”‚  â€¢ Color-coded bars          â”‚   â”‚      â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â”‚  â”‚ â€¢ emotion_model_final â”‚   â”‚
â”‚                                      â”‚      â”‚  â”‚ â€¢ tokenizer.json      â”‚   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚      â”‚  â”‚ â€¢ model.safetensors   â”‚   â”‚
â”‚  â”‚     api.ts (NEW!)            â”‚   â”‚      â”‚  â”‚ â€¢ config.json         â”‚   â”‚
â”‚  â”‚  â€¢ checkHealth()             â”‚   â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚  â€¢ analyzeEmotion()          â”‚   â”‚      â”‚                              â”‚
â”‚  â”‚  â€¢ getAvailableEmotions()    â”‚   â”‚      â”‚                              â”‚
â”‚  â”‚  â€¢ Error handling            â”‚   â”‚      â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â”‚                              â”‚
â”‚                                      â”‚      â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER TYPES     â”‚
â”‚   TEXT INPUT    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  App.tsx (handleAnalyze)    â”‚
    â”‚  â€¢ Check if text not empty  â”‚
    â”‚  â€¢ setIsAnalyzing(true)     â”‚
    â”‚  â€¢ setServerError(null)     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  api.ts (analyzeEmotion)           â”‚
    â”‚  â€¢ Validate text                   â”‚
    â”‚  â€¢ Create POST request             â”‚
    â”‚  â€¢ Send to http://localhost:8000   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         FASTAPI BACKEND                     â”‚
â”‚  http://localhost:8000/analyze              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Request: {text: "user input"}       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ model.py (EmotionAnalyzer.analyze)   â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚ â”‚ 1. Tokenize text               â”‚   â”‚  â”‚
â”‚  â”‚ â”‚ 2. Prepare tensors             â”‚   â”‚  â”‚
â”‚  â”‚ â”‚ 3. Run BERT model              â”‚   â”‚  â”‚
â”‚  â”‚ â”‚ 4. Get logits                  â”‚   â”‚  â”‚
â”‚  â”‚ â”‚ 5. Softmax to probabilities    â”‚   â”‚  â”‚
â”‚  â”‚ â”‚ 6. Get top emotion             â”‚   â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â–¼                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Response:                           â”‚   â”‚
â”‚  â”‚ {                                   â”‚   â”‚
â”‚  â”‚   text: "...",                      â”‚   â”‚
â”‚  â”‚   emotion: "joy",                   â”‚   â”‚
â”‚  â”‚   confidence: 0.95,                 â”‚   â”‚
â”‚  â”‚   scores: {                         â”‚   â”‚
â”‚  â”‚     joy: 0.95,                      â”‚   â”‚
â”‚  â”‚     excitement: 0.03,               â”‚   â”‚
â”‚  â”‚     surprise: 0.02,                 â”‚   â”‚
â”‚  â”‚     ... 25 more emotions ...        â”‚   â”‚
â”‚  â”‚   }                                 â”‚   â”‚
â”‚  â”‚ }                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  api.ts (response handler) â”‚
    â”‚  â€¢ Parse JSON              â”‚
    â”‚  â€¢ Check for errors        â”‚
    â”‚  â€¢ Return EmotionResult    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  App.tsx (setEmotions)           â”‚
    â”‚  â€¢ Store result in state         â”‚
    â”‚  â€¢ setIsAnalyzing(false)         â”‚
    â”‚  â€¢ Clear server error            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  EmotionResults.tsx (re-render) â”‚
    â”‚  â€¢ Display primary emotion      â”‚
    â”‚  â€¢ Show confidence bar          â”‚
    â”‚  â€¢ List all 28 emotions         â”‚
    â”‚  â€¢ Apply color coding           â”‚
    â”‚  â€¢ Animate bars                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  USER SEES RESULTS!          â”‚
    â”‚  ğŸ­ Emotion Analysis         â”‚
    â”‚  Primary: Joy (95%)          â”‚
    â”‚  Emotional Spectrum:         â”‚
    â”‚  - Joy: 95%                  â”‚
    â”‚  - Excitement: 3%            â”‚
    â”‚  - ... 26 more ...           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           React State in App.tsx                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  text: string                                              â”‚
â”‚  â”œâ”€ User input                                             â”‚
â”‚  â””â”€ Updated by TextInput onChange                          â”‚
â”‚                                                            â”‚
â”‚  emotions: EmotionResult[]                                 â”‚
â”‚  â”œâ”€ Array of emotion objects                              â”‚
â”‚  â”œâ”€ {emotion, confidence, scores}                         â”‚
â”‚  â””â”€ Updated after API response                            â”‚
â”‚                                                            â”‚
â”‚  isAnalyzing: boolean                                      â”‚
â”‚  â”œâ”€ true: Show loading spinner                            â”‚
â”‚  â”œâ”€ false: Show results                                   â”‚
â”‚  â””â”€ Updated during API call lifecycle                     â”‚
â”‚                                                            â”‚
â”‚  serverError: string | null                               â”‚
â”‚  â”œâ”€ Error message from server/network                     â”‚
â”‚  â”œâ”€ Displayed in error banner                             â”‚
â”‚  â””â”€ Cleared on successful analysis                        â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                    â”‚
              â–¼                    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ TextInput.tsx   â”‚   â”‚ EmotionResults   â”‚
    â”‚                 â”‚   â”‚ .tsx             â”‚
    â”‚ Uses:           â”‚   â”‚                  â”‚
    â”‚ - text          â”‚   â”‚ Uses:            â”‚
    â”‚ - setText       â”‚   â”‚ - emotions       â”‚
    â”‚ - onAnalyze     â”‚   â”‚ - isAnalyzing    â”‚
    â”‚ - onClear       â”‚   â”‚ - serverError    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Component Hierarchy

```
App.tsx (Root)
â”‚
â”œâ”€ Error Banner (conditional)
â”‚  â””â”€ Displays: serverError message
â”‚
â”œâ”€ Header
â”‚  â”œâ”€ Title: "Emotion Recognizer"
â”‚  â””â”€ Subtitle description
â”‚
â”œâ”€ Grid Layout (lg:grid-cols-2)
â”‚  â”œâ”€ TextInput.tsx
â”‚  â”‚  â”œâ”€ Label: "Share Your Emotions"
â”‚  â”‚  â”œâ”€ Textarea (value, onChange)
â”‚  â”‚  â”œâ”€ Stats (char count, word count)
â”‚  â”‚  â”œâ”€ Buttons:
â”‚  â”‚  â”‚  â”œâ”€ Analyze (onClick: handleAnalyze)
â”‚  â”‚  â”‚  â””â”€ Clear (onClick: handleClear)
â”‚  â”‚  â””â”€ Loading state
â”‚  â”‚
â”‚  â””â”€ EmotionResults.tsx
â”‚     â”œâ”€ Loading State
â”‚     â”‚  â””â”€ Spinner + "Analyzing emotions..."
â”‚     â”‚
â”‚     â”œâ”€ Empty State
â”‚     â”‚  â””â”€ Icon + "Ready to discover emotions"
â”‚     â”‚
â”‚     â””â”€ Results State
â”‚        â”œâ”€ Primary Emotion Box
â”‚        â”‚  â”œâ”€ Emotion Icon
â”‚        â”‚  â”œâ”€ Emotion Name
â”‚        â”‚  â””â”€ Confidence Bar (0-100%)
â”‚        â”‚
â”‚        â””â”€ Emotional Spectrum (if scores available)
â”‚           â”œâ”€ Heading: "All 28 Emotions"
â”‚           â””â”€ For each emotion (sorted by score):
â”‚              â”œâ”€ Emotion name
â”‚              â”œâ”€ Percentage
â”‚              â””â”€ Progress bar (color-coded)
â”‚
â””â”€ Footer
   â””â”€ "Powered by FastAPI & BERT AI"
```

---

## ğŸŒ API Request/Response Format

```
REQUEST:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  POST /analyze                      â”‚
â”‚  Content-Type: application/json     â”‚
â”‚                                     â”‚
â”‚  {                                  â”‚
â”‚    "text": "I'm so happy!"          â”‚
â”‚  }                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RESPONSE (200 OK):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  {                                       â”‚
â”‚    "text": "I'm so happy!",              â”‚
â”‚    "emotion": "joy",                     â”‚
â”‚    "confidence": 0.9534,                 â”‚
â”‚    "scores": {                           â”‚
â”‚      "admiration": 0.0012,               â”‚
â”‚      "amusement": 0.0084,                â”‚
â”‚      ...                                 â”‚
â”‚      "joy": 0.9534,                      â”‚
â”‚      ...                                 â”‚
â”‚      "neutral": 0.0024                   â”‚
â”‚    }                                     â”‚
â”‚  }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ERROR RESPONSE (400/500):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  {                                       â”‚
â”‚    "detail": "Error message here"        â”‚
â”‚  }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ User Journey Map

```
START
  â”‚
  â”œâ”€â–º Visit http://localhost:5173
  â”‚    â””â”€â–º App loads â†’ checkHealth() â†’ Backend status OK âœ…
  â”‚
  â”œâ”€â–º See empty state ("Ready to discover emotions")
  â”‚
  â”œâ”€â–º Type in textarea ("I'm so excited!")
  â”‚    â””â”€â–º Live character/word count updates
  â”‚
  â”œâ”€â–º Click "Analyze" button
  â”‚    â””â”€â–º Shows spinner ("Analyzing emotions...")
  â”‚
  â”œâ”€â–º Backend processes with BERT model
  â”‚    â””â”€â–º ~200-500ms processing time
  â”‚
  â”œâ”€â–º Results display
  â”‚    â”œâ”€â–º Primary Emotion: Joy (95%)
  â”‚    â””â”€â–º All 28 emotions ranked
  â”‚
  â”œâ”€â–º User can:
  â”‚    â”œâ”€â–º See more details by hovering
  â”‚    â”œâ”€â–º Clear and analyze new text
  â”‚    â””â”€â–º Export results (future feature)
  â”‚
  â”œâ”€â–º Repeat analysis as needed
  â”‚
  END
```

---

## ğŸ› ï¸ Technical Stack

```
FRONTEND
â”œâ”€â”€ React 18 (UI Framework)
â”œâ”€â”€ TypeScript (Type Safety)
â”œâ”€â”€ Vite (Build Tool)
â”œâ”€â”€ Tailwind CSS (Styling)
â”œâ”€â”€ Lucide React (Icons)
â””â”€â”€ Fetch API (HTTP Requests)

BACKEND  
â”œâ”€â”€ FastAPI (Web Framework)
â”œâ”€â”€ Pydantic (Data Validation)
â”œâ”€â”€ PyTorch (ML Framework)
â”œâ”€â”€ Transformers (BERT Model)
â””â”€â”€ Uvicorn (ASGI Server)

COMMUNICATION
â”œâ”€â”€ HTTP REST API
â”œâ”€â”€ JSON Request/Response
â”œâ”€â”€ CORS Enabled
â””â”€â”€ No authentication (dev mode)
```

---

## ğŸ“ˆ Processing Pipeline

```
Text Input
    â”‚
    â”œâ”€â–º Tokenization
    â”‚    â””â”€â–º Convert text to tokens
    â”‚         â””â”€â–º Special tokens added ([CLS], [SEP], etc.)
    â”‚
    â”œâ”€â–º Embedding
    â”‚    â””â”€â–º Convert tokens to vectors
    â”‚         â””â”€â–º 768-dimensional embeddings
    â”‚
    â”œâ”€â–º BERT Processing
    â”‚    â””â”€â–º 12-layer transformer
    â”‚         â””â”€â–º Self-attention mechanisms
    â”‚              â””â”€â–º Contextual understanding
    â”‚
    â”œâ”€â–º Classification Head
    â”‚    â””â”€â–º 28 emotion output nodes
    â”‚         â””â”€â–º Logits calculated
    â”‚
    â”œâ”€â–º Softmax Normalization
    â”‚    â””â”€â–º Convert logits to probabilities
    â”‚         â””â”€â–º Sum to 1.0
    â”‚
    â””â”€â–º Results
         â”œâ”€â–º Top emotion (argmax)
         â”œâ”€â–º Confidence score
         â””â”€â–º All 28 emotion probabilities
              â””â”€â–º Display to user

Total Time: ~200-500ms per request
```

---

## ğŸ” Error Handling Flow

```
API Call Made
    â”‚
    â”œâ”€â–º Network Error?
    â”‚    â””â”€â–º Catch block â†’ setServerError("Unable to reach server...")
    â”‚         â””â”€â–º Show error banner
    â”‚
    â”œâ”€â–º Server Error (500)?
    â”‚    â””â”€â–º Catch block â†’ setServerError("Server error: ...")
    â”‚         â””â”€â–º Show error banner
    â”‚
    â”œâ”€â–º Validation Error (400)?
    â”‚    â””â”€â–º Catch block â†’ setServerError("Bad request: ...")
    â”‚         â””â”€â–º Show error banner
    â”‚
    â”œâ”€â–º Empty Text?
    â”‚    â””â”€â–º Check before API call
    â”‚         â””â”€â–º Prevent request
    â”‚
    â””â”€â–º Success (200)?
         â””â”€â–º Parse response
              â””â”€â–º Update state
                   â””â”€â–º Display results
```

---

All diagrams visualize the complete system architecture! ğŸ­âœ¨
